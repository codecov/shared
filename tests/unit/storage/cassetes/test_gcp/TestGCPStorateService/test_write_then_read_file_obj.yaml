interactions:
- request:
    body: assertion=eyJ0eXAiOiAiSldUIiwgImFsZyI6ICJSUzI1NiIsICJraWQiOiAiMjg4YThhNDdkODAzYjk0NTc5Mzc3Y2YwZDgzYjZiODc5MDFlMDdhMSJ9.eyJpYXQiOiAxNzAxNzIzOTEwLCAiZXhwIjogMTcwMTcyNzUxMCwgImlzcyI6ICJzY290dC10ZXN0LWJ1bmRsZS1hbmFseXNpc0Bjb2RlY292LWRldi5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsICJhdWQiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLCAic2NvcGUiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kZXZzdG9yYWdlLmZ1bGxfY29udHJvbCBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RldnN0b3JhZ2UucmVhZF9vbmx5IGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZGV2c3RvcmFnZS5yZWFkX3dyaXRlIn0.JrezkhbttaBaGtj6b6vLugA4pJKBq2_3PXZ52_m4qvi6nHYkvfUCkXya6paDct1TvQUQH93RUrgYKoI5iAhsXiv8X8n4p_zTrN8HDYQaFxM-gG3buE3l8JMrEx5XdPxNEVNdKKlfAMt2dUVzMO7yyo6vpMNFlKZaWmzjVzh6rsd6NMqWCfTz-7vGkkFj_HC4HcCgzwOd4Yii6cCBpGAPngNpYa60jliQU8zIa5E1-lFrddotOlt76Hpv0pxhmf0vsj_ad3DtSnAwBZ62i-Gl6YEAqN5qhQkZUFi4mWt3v8lIZD4qePSGu7mRhJT0xf45MOzi-Eb2KTUHG88J9mkS7w&grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '970'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - python-requests/2.31.0
      x-goog-api-client:
      - gl-python/3.9.16 auth/2.23.2 auth-request-type/at cred-type/sa
    method: POST
    uri: https://oauth2.googleapis.com/token
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAC/x2USa6jSABE7+J1USKZ6R22P/5gU5jkM5hNiiFJBjMlM6W+e1t9gVBI8eL9PcVp
        iscRTV2N29M/pz3m1N/p75TVXsjvIyIhz7x39uqOAeXmyzZoz83NNSusXnLmsFnSaogyHvguMfPO
        hh+Wpp1xW8HxNJ/Y1p+dmkdXpy81Cfxc2niNiwLvmcD/GaDot8xQDOWIvjVJSre8YODIrep9wY8o
        fN460uWFmH7lSv3EnuCHspirDxpfGfcsTfgV35JOix8GexXXJy56oMZLlnlfT7ucQ+4qDnuyjpnS
        xkKsyMF4ZZ7e9WcNu5n7en4n94zO9qLNfcGyF+67uWpUv92sIXvsiepvTH/JB2we9GE/qMfyQqB1
        P/U7kS0J/QmUQFnNxlCek8zeyYUq9zk/5wDRZEuWrwDCzve6GYAmgFe5buQDtkCkViDRl59cb487
        fUytBwoGeCLW+VSQJkl1s/6BDcJ3h70+eBVoFVpIh0PJJfjgCbKg4jGgTaifqyQygSq2bWxY0rL5
        i6VLCjMldlYVLJ44X+HdyaixqryXgK/KnB/2VwFNPVHoAYfGXDlhsuJwllJvz1+MoU77AnPlLYRd
        FRmrjHD2soZVtjsus8bZknYWeRHcMh++D8kidCnCQgZjpzKOwgs9TOkIvQ8tOxkV1yDYFwXjDHH+
        ilCGtlAqJTrjzI5qWPUOhCBrz7FL3OJlvN/+TJokZNnpPAdH6EOB/aRPHO1Qp5MNh81m7QcWm6BZ
        zMlNLa/elJG8S8VFIFocRrDWusJ45KOCbPVMjLgvPh3YbINGehRubIlNacyjyGXEdSqkBwu3VZ78
        bhEitqm7ttCshMdJ0nNMf8jy6OyfqUCed12g8xXQ4/ati0MstDFziP3ggmRzSRnusuPzdXMQl4iY
        DJbnI9DvIaTzSJ3qWF0XyhWv7/6I08OqGTM/81yqWCRF57mWmnWRQOREIGk8mheJ4IX18SY+Y+38
        1oLdEO0JMlGSG35FnJ2TO1IMPUmFrJaLipCh6fWUYmKZPWVh1UKXMxc2onORKnIUt+IYd4Hhb/Ms
        BvLZBVRibCMLQOqFfbToZ+qYTBXMnz86zI5ygwatffp1wltfUjyi8uMDXlTVX6f/5YCmvccfQ5xx
        TDE9/fsfaVak4DsEAAA=
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - private
      Content-Encoding:
      - gzip
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 04 Dec 2023 21:05:10 GMT
      Server:
      - scaffolding on HTTPServer2
      Transfer-Encoding:
      - chunked
      Vary:
      - Origin
      - X-Origin
      - Referer
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - SAMEORIGIN
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.11.0  gl-python/3.9.16 grpc/1.59.0 gax/2.12.0 gccl/2.11.0
      x-allowed-locations:
      - '0x0'
      x-goog-api-client:
      - cred-type/sa
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testing?prettyPrint=false&projection=noAcl
  response:
    body:
      string: '{"kind":"storage#bucket","selfLink":"https://www.googleapis.com/storage/v1/b/testing","id":"testing","name":"testing","projectNumber":"600182812669","metageneration":"2","location":"US","storageClass":"STANDARD","etag":"CAI=","timeCreated":"2023-11-29T18:21:26.716Z","updated":"2023-11-29T18:28:58.136Z","retentionPolicy":{"retentionPeriod":"8035200","effectiveTime":"2023-11-29T18:21:26.716Z","isLocked":false},"iamConfiguration":{"bucketPolicyOnly":{"enabled":true,"lockedTime":"2024-02-27T18:21:26.716Z"},"uniformBucketLevelAccess":{"enabled":true,"lockedTime":"2024-02-27T18:21:26.716Z"},"publicAccessPrevention":"enforced"},"locationType":"multi-region","rpo":"DEFAULT"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '747'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 04 Dec 2023 21:05:10 GMT
      ETag:
      - CAI=
      Expires:
      - Mon, 04 Dec 2023 21:05:10 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ABPtcPpEAnmdbCyqk95y2rk-0Io0SxKLWeSikZHyhHG2Bq59j42Gvkf1f1cASM8lSQZ9gVITkOK4zoOV-g
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "test_write_then_read_file_obj/result"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '48'
      User-Agent:
      - gcloud-python/2.11.0  gl-python/3.9.16 grpc/1.59.0 gax/2.12.0 gccl/2.11.0
      content-type:
      - application/json; charset=UTF-8
      x-allowed-locations:
      - '0x0'
      x-goog-api-client:
      - cred-type/sa
      x-upload-content-type:
      - application/octet-stream
    method: POST
    uri: https://storage.googleapis.com/upload/storage/v1/b/testing/o?uploadType=resumable
  response:
    body:
      string: ''
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '0'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Mon, 04 Dec 2023 21:05:10 GMT
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Location:
      - https://storage.googleapis.com/upload/storage/v1/b/testing/o?uploadType=resumable&upload_id=ABPtcPrSstlUpHWiVP3qsSmJCuvrzD6y-bXGIhYtSC3ZPIGF06Kvd8AY3get8RYlxVwKJxa4xj2lQfKDQTg6OqFX0O5mjGnpPTTV-fXd2mAJYds1dg
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ABPtcPrSstlUpHWiVP3qsSmJCuvrzD6y-bXGIhYtSC3ZPIGF06Kvd8AY3get8RYlxVwKJxa4xj2lQfKDQTg6OqFX0O5mjGnpPTTV-fXd2mAJYds1dg
    status:
      code: 200
      message: OK
- request:
    body: "lorem ipsum dolor test_write_then_read_file \xE1"
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '46'
      User-Agent:
      - gcloud-python/2.11.0  gl-python/3.9.16 grpc/1.59.0 gax/2.12.0 gccl/2.11.0
      content-range:
      - bytes 0-45/46
      content-type:
      - application/octet-stream
      x-allowed-locations:
      - '0x0'
      x-goog-api-client:
      - cred-type/sa
      x-upload-content-type:
      - application/octet-stream
    method: PUT
    uri: https://storage.googleapis.com/upload/storage/v1/b/testing/o?uploadType=resumable&upload_id=ABPtcPrSstlUpHWiVP3qsSmJCuvrzD6y-bXGIhYtSC3ZPIGF06Kvd8AY3get8RYlxVwKJxa4xj2lQfKDQTg6OqFX0O5mjGnpPTTV-fXd2mAJYds1dg
  response:
    body:
      string: "{\n  \"kind\": \"storage#object\",\n  \"id\": \"testing/test_write_then_read_file_obj/result/1701723910932884\",\n
        \ \"selfLink\": \"https://www.googleapis.com/storage/v1/b/testing/o/test_write_then_read_file_obj%2Fresult\",\n
        \ \"mediaLink\": \"https://storage.googleapis.com/download/storage/v1/b/testing/o/test_write_then_read_file_obj%2Fresult?generation=1701723910932884&alt=media\",\n
        \ \"name\": \"test_write_then_read_file_obj/result\",\n  \"bucket\": \"testing\",\n
        \ \"generation\": \"1701723910932884\",\n  \"metageneration\": \"1\",\n  \"contentType\":
        \"application/octet-stream\",\n  \"storageClass\": \"STANDARD\",\n  \"size\":
        \"46\",\n  \"md5Hash\": \"NwIf46EiCcnfaot9N+GaBQ==\",\n  \"crc32c\": \"fChI7w==\",\n
        \ \"etag\": \"CJST3snX9oIDEAE=\",\n  \"retentionExpirationTime\": \"2024-03-06T21:05:10.971Z\",\n
        \ \"timeCreated\": \"2023-12-04T21:05:10.971Z\",\n  \"updated\": \"2023-12-04T21:05:10.971Z\",\n
        \ \"timeStorageClassUpdated\": \"2023-12-04T21:05:10.971Z\"\n}\n"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Length:
      - '984'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 04 Dec 2023 21:05:11 GMT
      ETag:
      - CJST3snX9oIDEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ABPtcPrSstlUpHWiVP3qsSmJCuvrzD6y-bXGIhYtSC3ZPIGF06Kvd8AY3get8RYlxVwKJxa4xj2lQfKDQTg6OqFX0O5mjGnpPTTV-fXd2mAJYds1dg
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.11.0  gl-python/3.9.16 grpc/1.59.0 gax/2.12.0 gccl/2.11.0
      x-allowed-locations:
      - '0x0'
      x-goog-api-client:
      - cred-type/sa
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testing?prettyPrint=false&projection=noAcl
  response:
    body:
      string: '{"kind":"storage#bucket","selfLink":"https://www.googleapis.com/storage/v1/b/testing","id":"testing","name":"testing","projectNumber":"600182812669","metageneration":"2","location":"US","storageClass":"STANDARD","etag":"CAI=","timeCreated":"2023-11-29T18:21:26.716Z","updated":"2023-11-29T18:28:58.136Z","retentionPolicy":{"retentionPeriod":"8035200","effectiveTime":"2023-11-29T18:21:26.716Z","isLocked":false},"iamConfiguration":{"bucketPolicyOnly":{"enabled":true,"lockedTime":"2024-02-27T18:21:26.716Z"},"uniformBucketLevelAccess":{"enabled":true,"lockedTime":"2024-02-27T18:21:26.716Z"},"publicAccessPrevention":"enforced"},"locationType":"multi-region","rpo":"DEFAULT"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '747'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 04 Dec 2023 21:05:11 GMT
      ETag:
      - CAI=
      Expires:
      - Mon, 04 Dec 2023 21:05:11 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ABPtcPosp4lhHF7SUDPvkO_mhPyrMie0d1rmH39mWjQtePaymKeNKEIXdb97J1WpheqKPn3fU-UFiUOOXQ
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.11.0  gl-python/3.9.16 grpc/1.59.0 gax/2.12.0 gccl/2.11.0
      x-allowed-locations:
      - '0x0'
      x-goog-api-client:
      - cred-type/sa
    method: GET
    uri: https://storage.googleapis.com/storage/v1/b/testing/o/test_write_then_read_file_obj%2Fresult?prettyPrint=false&projection=noAcl
  response:
    body:
      string: '{"kind":"storage#object","id":"testing/test_write_then_read_file_obj/result/1701723910932884","selfLink":"https://www.googleapis.com/storage/v1/b/testing/o/test_write_then_read_file_obj%2Fresult","mediaLink":"https://storage.googleapis.com/download/storage/v1/b/testing/o/test_write_then_read_file_obj%2Fresult?generation=1701723910932884&alt=media","name":"test_write_then_read_file_obj/result","bucket":"testing","generation":"1701723910932884","metageneration":"1","contentType":"application/octet-stream","storageClass":"STANDARD","size":"46","md5Hash":"NwIf46EiCcnfaot9N+GaBQ==","crc32c":"fChI7w==","etag":"CJST3snX9oIDEAE=","retentionExpirationTime":"2024-03-06T21:05:10.971Z","timeCreated":"2023-12-04T21:05:10.971Z","updated":"2023-12-04T21:05:10.971Z","timeStorageClassUpdated":"2023-12-04T21:05:10.971Z"}'
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - private, max-age=0, must-revalidate, no-transform
      Content-Length:
      - '910'
      Content-Type:
      - application/json; charset=UTF-8
      Date:
      - Mon, 04 Dec 2023 21:05:11 GMT
      ETag:
      - CJST3snX9oIDEAE=
      Expires:
      - Mon, 04 Dec 2023 21:05:11 GMT
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ABPtcPovRYPcp8lo-jxn4gVQAR5H0WJGrbXXhIDK5kLJszvypIgY0Aqn-Ko1BEvtPOXuT2jT_XpNWqrDgg
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Connection:
      - keep-alive
      User-Agent:
      - gcloud-python/2.11.0  gl-python/3.9.16 grpc/1.59.0 gax/2.12.0 gccl/2.11.0
      accept-encoding:
      - gzip
      content-type:
      - application/json; charset=UTF-8
      x-allowed-locations:
      - '0x0'
      x-goog-api-client:
      - cred-type/sa
      x-upload-content-type:
      - application/json; charset=UTF-8
    method: GET
    uri: https://storage.googleapis.com/download/storage/v1/b/testing/o/test_write_then_read_file_obj%2Fresult?alt=media&generation=1701723910932884
  response:
    body:
      string: "lorem ipsum dolor test_write_then_read_file \xE1"
    headers:
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Content-Disposition:
      - attachment
      Content-Length:
      - '46'
      Content-Type:
      - application/octet-stream
      Date:
      - Mon, 04 Dec 2023 21:05:11 GMT
      ETag:
      - CJST3snX9oIDEAE=
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Last-Modified:
      - Mon, 04 Dec 2023 21:05:10 GMT
      Pragma:
      - no-cache
      Server:
      - UploadServer
      Vary:
      - Origin
      - X-Origin
      X-GUploader-UploadID:
      - ABPtcPqVlfY3E9TmoOUzr-js-vq95dhg11CdKNCnTv3Mx7xbqZ-z2wsJ_qr4iJjAimv4vCV_OQvp_DFhqg
      X-Goog-Generation:
      - '1701723910932884'
      X-Goog-Hash:
      - crc32c=fChI7w==,md5=NwIf46EiCcnfaot9N+GaBQ==
      X-Goog-Metageneration:
      - '1'
      X-Goog-Storage-Class:
      - STANDARD
      X-Goog-Stored-Content-Encoding:
      - identity
      X-Goog-Stored-Content-Length:
      - '46'
    status:
      code: 200
      message: OK
version: 1
